From 49861e8f0c62c71ca2b0669c85841c2e4d706700 Mon Sep 17 00:00:00 2001
From: Holger Freyther <ich@imp050244.vpn.mi.fu-berlin.de>
Date: Thu, 6 Nov 2008 12:00:18 +0100
Subject: [PATCH 05/22] Disable to toggle the table of contents

---
 skins/common/wikibits.js |   47 ----------------------------------------------
 1 files changed, 0 insertions(+), 47 deletions(-)

diff --git a/skins/common/wikibits.js b/skins/common/wikibits.js
index 5abd738..37cfd42 100644
--- a/skins/common/wikibits.js
+++ b/skins/common/wikibits.js
@@ -103,38 +103,6 @@ if (wgBreakFrames) {
 	}
 }
 
-function showTocToggle() {
-	if (document.createTextNode) {
-		// Uses DOM calls to avoid document.write + XHTML issues
-
-		var linkHolder = document.getElementById('toctitle');
-		if (!linkHolder) {
-			return;
-		}
-
-		var outerSpan = document.createElement('span');
-		outerSpan.className = 'toctoggle';
-
-		var toggleLink = document.createElement('a');
-		toggleLink.id = 'togglelink';
-		toggleLink.className = 'internal';
-		toggleLink.href = 'javascript:toggleToc()';
-		toggleLink.appendChild(document.createTextNode(tocHideText));
-
-		outerSpan.appendChild(document.createTextNode('['));
-		outerSpan.appendChild(toggleLink);
-		outerSpan.appendChild(document.createTextNode(']'));
-
-		linkHolder.appendChild(document.createTextNode(' '));
-		linkHolder.appendChild(outerSpan);
-
-		var cookiePos = document.cookie.indexOf("hidetoc=");
-		if (cookiePos > -1 && document.cookie.charAt(cookiePos + 8) == 1) {
-			toggleToc();
-		}
-	}
-}
-
 function changeText(el, newText) {
 	// Safari work around
 	if (el.innerText) {
@@ -144,21 +112,6 @@ function changeText(el, newText) {
 	}
 }
 
-function toggleToc() {
-	var toc = document.getElementById('toc').getElementsByTagName('ul')[0];
-	var toggleLink = document.getElementById('togglelink');
-
-	if (toc && toggleLink && toc.style.display == 'none') {
-		changeText(toggleLink, tocHideText);
-		toc.style.display = 'block';
-		document.cookie = "hidetoc=0";
-	} else {
-		changeText(toggleLink, tocShowText);
-		toc.style.display = 'none';
-		document.cookie = "hidetoc=1";
-	}
-}
-
 var mwEditButtons = [];
 var mwCustomEditButtons = []; // eg to add in MediaWiki:Common.js
 
-- 
1.6.1

